title=Java on the Client, Part 1
date=2007-05-28
type=post
tags=blog
status=published
~~~~~~

<p>With all this hype about <a href="http://www.google.com/search?q=java+fx&amp;ie=utf-8&amp;oe=utf-8&amp;aq=t&amp;rls=org.mozilla:en-US:official&amp;client=firefox-a">JavaFX</a> (!) since JavaOne (so much came out of that conference and has been by and&nbsp; large ignored because of JavaFX. This is most true with the prospect of <a href="http://weblogs.java.net/blog/enicholas/archive/2007/05/java_kernel_unm.html">1-2&nbsp; MB downloads for the JRE</a>, the so called "Java Kernel"), I've decided to&nbsp; take inventory of the Java desktop landscape again, and see what's changed/grown&nbsp; since I've developed anything large with it. The desktop has languished behind&nbsp; the server in Java, often to the chagrin of the desktop / client-side&nbsp; developers who made the platform grow in the early, primordial java applet&nbsp; days.&nbsp; </p><p> First, I review the Rich Internet Application landscape in&nbsp; general, as it will serve as a useful backdrop against which all this new stuff&nbsp; makes sense.</p> <h2>The RIA Landscape Thus Far </h2> <h3>The Usual Contenders </h3> <p>JavaScript, HTML/CSS, a healthy dose of basic HTTP and&nbsp; SVG/VML combine to beautiful effect, as Google's Gmail, Maps, Reader, and more&nbsp; can attest. This is the standard bearer: it's prevalent (enough), easily adopted&nbsp; (standard technologies, free) and can be deployed incrementally. You don't&nbsp; (necessarily) cede search engine index-ability and standard usability requirements&nbsp; by using it. The other platforms have this now, too. </p><p> And a heck of a lot more.</p> <h3>Microsoft's Silverlight</h3> <p>Things are different now. Microsoft recently announced (or,&nbsp; rather, formally debuted) their <a href="http://www.microsoft.com/silverlight/default01.aspx">Silverlight</a> offering, which is astonishingly good news in of itself. It presents the newly&nbsp; solidified Adobe/Macromedia gelatin with a diluting agent.&nbsp; It could also present the developer with a&nbsp; cross - platform .NET engine. The Mono project has already announced that it&nbsp; will support <a href="http://www.mono-project.com/Moonlight">the plugin on&nbsp; Linux</a>. The plug-in itself will run on OS X and Windows.&nbsp; Silverlight is a set of technologies, and is&nbsp; deployed using a subset of .NET technologies. Microsoft's new Expression&nbsp; tooling environments simplify development. It presents powerful opportunities&nbsp; for rich media applications, including streaming video, and animation.</p> <h3>Adobe's Flash and Flex </h3> <p>Adobe's Flash is only part of the problem - it puts Flash in&nbsp; place as a (superior) contender against, well, the multimedia capacity of&nbsp; JavaScript and animated GIFs, for example. What's really at stake is the ability&nbsp; to deploy "applications" on the internet, not just pretty pictures. Flex, and&nbsp; in recent years, Flash, solve that, and do so better than Applets were able to&nbsp; before them. Recently, Adobe <a href="http://www.joshlong.com/jl/entry/20070425">open&nbsp; sourced Flex</a>, making the platform more accessible (and cheaper!) to the&nbsp; masses.&nbsp; The tooling (Flash CS3, for&nbsp; example), of course, is still not free. (Big surprise? Adobe's a tooling&nbsp; company.)</p> <h3>Applets and Java Webstart</h3> <p>Sun's Applets (naturally) predate any of these other items.&nbsp; They were the first to market, but unfortunately are the worst. Java Webstart&nbsp; is useful (very useful) where it's useful. Unfortunately, whereas you could see&nbsp; using Flash for an ad (for example), you could never use Java.&nbsp; First, it's too cumbersome to produce the same&nbsp; thing as in Flash using Java. Second, loading the applet itself has&nbsp; historically been wrought with issues: startup time, plug-in prevalence (and ease&nbsp; of adaptation), etc.</p> <h2>Java on the Desktop 2.0</h2> <h3>What's in a name?</h3> <p>See how I did that? "Web 2.0"? "Java on the Desktop 2.0"? We&nbsp; need some sort of spiffy acronym here. "Java Desktop 2.0"! "JDeskto".. nah. "JD2".&nbsp; Nah. "JD 2.0"? Pronounced, "JD two point ohhh"? Maybe Sun should just corner&nbsp; the whole market and unveil something so hard to top that no one will even&nbsp; bother, like, "RIA 2.0". Who could argue with "Rich 2.0"? The "internet is the&nbsp; computer, 2.0". We could name it something to capitalize on the ridiculous&nbsp; amount of traction that Flash FX, and Flex, have achieved. Something trendy.&nbsp; Something with a "X" or two in it. It's got to be "Java". It's got to have that <em>je ne sais quoi.</em> And "X"-y. It's got&nbsp; to have an "X". None of this "E" business. That's gotten us in enough trouble.&nbsp; I have it: "Java FX"! </p><p> What about, "Java FXE 2.0"?</p><p> I worry the JavaFX name will suffer the same bloat that the Java&nbsp; and .NET names did.&nbsp; JavaFX is actually a&nbsp; set of technologies. It describes a scripting language (which doesn't&nbsp; necessarily need to be used for pretty looking user interfaces), <a href="http://weblogs.java.net/blog/chet/archive/2007/05/media_frenzy.html">elevated&nbsp; multimedia support</a>, and a mobile platform. It will benefit from the Java Kernel&nbsp;&nbsp; (I guarantee you the Java Kernel wasn't&nbsp; developed so people could load .EARs quicker!) and from work being done in&nbsp; general startup time decreases. It also describes a runtime environment on mobile&nbsp; phones as well as the desktop. So when I say "JavaFX", I am more generally&nbsp; talking about everything Sun is doing to regain prominence in producing pretty&nbsp; user interfaces without HTML.&nbsp;&nbsp; </p> <h3>Now Sun's playing catch-up. </h3> <p>This is sickening because this was their market to lose,&nbsp; originally. Their applets were poised to be the platform that Flash became.&nbsp; They have been stalled by a general lack of attention from Sun on the desktop&nbsp; market, and a lack of attention to lowly web developers, in particular.&nbsp;&nbsp; There&nbsp; are many problems to solve which to some extent are already being addressed.&nbsp; Others are there if you know where to look. </p><p> For example, the common developer isn't looking to build a Microsoft&nbsp; Office, or a Photoshop, he's looking to build a forms intensive IS application.&nbsp; This is why Visual Basic had(s?) such a strong footing in corporate America:&nbsp; you could really quickly build some forms to babysit a database. That's also&nbsp; the reason so many people flocked to the web when it became apparent you could&nbsp; build forms to babysit the database. That's also why people are flocking to&nbsp; Ruby on Rails, because they get that most people just want to build forms to&nbsp; babysit databases, <em>easily.</em> </p><p> That's why it's called "Windows Forms", and not -say - "Windows&nbsp; UI". Naturally, the multimedia capabilities have arrived en masse for .NET, and <a href="http://en.wikipedia.org/wiki/Windows_Presentation_Foundation">Windows&nbsp; Presentation Foundation</a> is a testament to its refined focus. However, at&nbsp; the end of the day, it's a super set, and not the normative application of&nbsp; Windows' UI facilities. </p> <h2>Sun should build out the basics first. </h2> <p>Have you tried building a basic Swing application to talk to&nbsp; a database in recent years? It's still unpleasant. Put another way, using&nbsp; Tapestry or Spring MVC, or even JSF to in turn use HTTP to <em>fake</em> stateful, event driven, interactive forms is easier than using&nbsp; Swing to produce stateful, event driven, interactive forms. </p><p> Don't get me wrong. It can be done. Through <a href="http://www.swinglabs.org/">SwingLabs.org</a>, <a href="http://www.jgoodies.com/">JGoodies.com</a>, <a href="http://common.l2fprod.com/">L2FProd</a>, and others, it can definitely be&nbsp; hobbled together. It's not for the faint of heart though, and it requires a&nbsp; body of knowledge most people don't have time for what is usually easily done&nbsp; via a standard web application.</p><p> There is hope over the horizon, though. Sun's made some&nbsp; positive strides with JSR 296 (the "Swing Application Framework": <a href="http://jcp.org/en/jsr/detail?id=296">this</a> ought to do you, but just&nbsp; in case you might also try <a href="http://www.artima.com/lejava/articles/swingframework.html">this one</a>).&nbsp; Thus far, the framework isn't final, but it is promising. Where JSR 296 falls short,&nbsp; other JSRs for data binding and persistence (for example) will fill the gaps.&nbsp; It addresses common infrastructure support,&nbsp; like a more worldly action framework, i18n support, and so on. </p><p> There are very few cohesive opportunities available right&nbsp; now, however. Oh, sure, you could ascend the mountain, your .zip of the <a href="http://www.netbeans.org/products/platform/">Netbeans's</a> or <a href="http://www.eclipse.org/platform/">Eclipse RCP</a> code in hand, and get&nbsp; somewhere, eventually. But that's hardly "approachable." Few people build applications&nbsp; as complex as your average IDE, it turns out. </p><p> A more substantive approach is <a href="http://spring-rich-c.sourceforge.net/">Spring's Rich Client platform.</a>&nbsp; The platform suffers from poor&nbsp; documentation, though that's mitigated more and more by the <a href="http://opensource.atlassian.com/confluence/spring/display/RCP/Home">wiki</a>.&nbsp; Using it, you're able to get the husk of an application up and running in&nbsp; literally minutes (assuming you've checked out the project and figured out how&nbsp; to get it working). Once you launch, it has 90% of what you're likely to need:&nbsp; dependency injection (it <em>is</em> Spring,&nbsp; after all), resource management (icons, labels, all internationalized and&nbsp; extracted to resource files), action framework, data binding, validation, a "view"/&nbsp; "page" schema, and even integration with "sexy" technologies where it wouldn't&nbsp; be useful to develop it in-house. It also takes care of the corner cases, too.&nbsp; It'll automatically launch a splash screen for you, for example. The splash screen&nbsp; is automatically centered. It has integration with a few help systems. </p><p> I like Spring RCP (if that wasn't obvious). Within a weekend&nbsp; I was able to build an application that talked to a SOAP service using POJOs&nbsp; (that's Spring, of course) talking to my client application. The client&nbsp; application knew how to do all the CRUD things you'd expect. I was able to take&nbsp; advantage of some of the nicer tools and do things like integrate the&nbsp; application into the system tray so that it was only visible when necessary,&nbsp; integrate a video pane using JMF,&nbsp; and of&nbsp; course provide on-the-fly upgrades/installation using Webstart (that's mostly&nbsp; true…), all because it was Swing. The mind boggles at what you could do with&nbsp; JOGL, Java (2|3)D, JavaZoom,&nbsp; and most&nbsp; any application of a good look and feel! That took another weekend. Or two… I&nbsp; don't want to talk about it. My therapist insists it's good for me, though. </p><p> The bulk of the application - the part that justifies&nbsp; building the application - was mostly finished the first weekend, thanks&nbsp; entirely to Spring RCP. Now, granted, that second weekend was only possible&nbsp; because I've banged my head against those particular walls a few times before. Many&nbsp; times before. </p> <h2>Building on top of Java</h2> <p>The Java FX announcement is good news, as it means that all&nbsp; of desktop java will get some much needed attention. This is good news for java&nbsp; developers as it's one more place where they'll get the job and not some other&nbsp; programmer who's not using Ruby on top of a JVM. The pieces are all there. We&nbsp; have a really rich API for components /user interfaces. We have the rumblings&nbsp; of change in the framework space for Swing. Work's being done to evolve or&nbsp; supplant missing multimedia support. We have the language, the framework plumbing,&nbsp; the incredible depth of history with networked applications. All in all, Java's&nbsp; got a strong hand. Now we have a unified voice behind JavaFX. The hurdles at&nbsp; this point lay mostly in finding appropriate abstractions and spreading best practices.&nbsp; These hurdles are easily dealt with as a community, however. Java has nothing&nbsp; if not a community. All in all, I'd say it's a good time to be a Java developer.</p>